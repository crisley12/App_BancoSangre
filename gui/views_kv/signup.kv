
<Signup>:
    MDScreen:
        name: "signup"

    MDFloatLayout:
        FitImage:
            source: 'asset/img/signup.png'
        #MDIconButton:
            #icon: 'arrow-left'
            #pos_hint: {"center_y": .95}
            #user_font_size: '30sp'
            #theme_text_color: "Custom"
            #text_color: rgba(26, 24, 58, 255)
            #on_release:
                #root.manager.transition.direction = "right"
                #root.manager.current = "login"

#Titulo Inicial
        MDLabel:
            text: "Basantranfs"
            font_name: 'asset/Fuentes/Poppins-SemiBold.ttf'
            pos_hint: {"center_x": .5, "center_y": .90}
            halign: 'center'
            font_size: '30sp'
            theme_text_color: 'Custom'
            text_color: (240/255, 0/255, 0/255)

#Primera fila
        MDFloatLayout:
            size_hint: .35, .05
            pos_hint: {"center_x": .3, "center_y": .80}
            canvas:
                Color:
                    rgb: (238/255, 238/255, 1)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [25]
            TextInput:
                id: cedula
                input_filter: 'int'
                prefix: "V-"
                #font_name: "Poppins"
                hint_text: "Cédula"
                size_hint: 1, None
                pos_hint: {"center_x": .5, "center_y": .5}
                height: self.minimum_height
                multiline: False
                cursor_color: 0, 0, 0
                cursor_width: '2sp'
                foreground_color: 0, 0, 0
                background_color: 0, 0, 0, 0
                padding: [10]
                font_size: '13sp'
                on_text: 
                    root.check_length_cedula()
                    self.text = app.solo_numeros(self.text, root.ids.mensaje_numero)
                Label:
                    id: mensaje_numero
                    text: "Solo se permiten números"
                    opacity: 0

        MDFloatLayout:
            size_hint: .35, .05
            pos_hint: {"center_x": .7, "center_y": .80}
            canvas:
                Color:
                    rgb: (238/255, 238/255, 1)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [25]
            TextInput:
                id: n_telefono
                input_filter: 'int'
                #font_name: "Poppins"
                hint_text: "N° Telefono"
                size_hint: 1, None
                pos_hint: {"center_x": .5, "center_y": .5}
                height: self.minimum_height
                multiline: False
                cursor_color: 0, 0, 0
                cursor_width: '2sp'
                foreground_color: 0, 0, 0
                background_color: 0, 0, 0, 0
                padding: [10]
                font_size: '13sp'
                on_text: 
                    root.check_length_telefono()
                    self.text = app.solo_numeros(self.text, root.ids.mensaje_numero)
                Label:
                    id: mensaje_numero
                    text: "Solo se permiten números"
                    opacity: 0


#Segundaa fila
        MDFloatLayout:
            size_hint: .35, .05
            pos_hint: {"center_x": .3, "center_y": .72}
            canvas:
                Color:
                    rgb: (238/255, 238/255, 1)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [25]
            TextInput:
                id: p_apellido
                #input_filter: 'str'
                #font_name: "Poppins"
                hint_text: "Primer Apellido"
                size_hint: 1, None
                pos_hint: {"center_x": .5, "center_y": .5}
                height: self.minimum_height
                multiline: False
                cursor_color: 0, 0, 0
                cursor_width: '2sp'
                foreground_color: 0, 0, 0
                background_color: 0, 0, 0, 0
                padding: [10]
                font_size: '13sp'
                on_text: self.text = app.solo_letras(self.text, root.ids.mensaje_nombre)
                Label:
                    id: mensaje_nombre
                    text: "Solo se permiten Letras"
                    opacity: 0

        MDFloatLayout:
            size_hint: .35, .05
            pos_hint: {"center_x": .7, "center_y": .72}
            canvas:
                Color:
                    rgb: (238/255, 238/255, 1)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [25]
            TextInput:
                id: s_apellido
                #input_filter: 'str'
                #font_name: "Poppins"
                hint_text: "Segundo Apellido"
                size_hint: 1, None
                pos_hint: {"center_x": .5, "center_y": .5}
                height: self.minimum_height
                multiline: False
                cursor_color: 0, 0, 0
                cursor_width: '2sp'
                foreground_color: 0, 0, 0
                background_color: 0, 0, 0, 0
                padding: [10]
                font_size: '13sp'
                on_text: self.text = app.solo_letras(self.text, root.ids.mensaje_nombre)
                Label:
                    id: mensaje_nombre
                    text: "Solo se permiten Letras"
                    opacity: 0

#Tercera fila
        MDFloatLayout:
            size_hint: .35, .05
            pos_hint: {"center_x": .3, "center_y": .64}
            canvas:
                Color:
                    rgb: (238/255, 238/255, 1)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [25]
            TextInput:
                id: p_nombre
                #input_filter: 'str'
                #font_name: "Poppins"
                hint_text: "Primer Nombre"
                size_hint: 1, None
                pos_hint: {"center_x": .5, "center_y": .5}
                height: self.minimum_height
                multiline: False
                cursor_color: 0, 0, 0
                cursor_width: '2sp'
                foreground_color: 0, 0, 0
                background_color: 0, 0, 0, 0
                padding: [10]
                font_size: '13sp'
                on_text: self.text = app.solo_letras(self.text, root.ids.mensaje_nombre)
                Label:
                    id: mensaje_nombre
                    text: "Solo se permiten Letras"
                    opacity: 0

        MDFloatLayout:
            size_hint: .35, .05
            pos_hint: {"center_x": .7, "center_y": .64}
            canvas:
                Color:
                    rgb: (238/255, 238/255, 1)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [25]
            TextInput:
                id: s_nombre
                #input_filter: 'str'
                #font_name: "Poppins"
                hint_text: "Segundo Nombre"
                size_hint: 1, None
                pos_hint: {"center_x": .5, "center_y": .5}
                height: self.minimum_height
                multiline: False
                cursor_color: 0, 0, 0
                cursor_width: '2sp'
                foreground_color: 0, 0, 0
                background_color: 0, 0, 0, 0
                padding: [10]
                font_size: '13sp'
                on_text: self.text = app.solo_letras(self.text, root.ids.mensaje_nombre)
                Label:
                    id: mensaje_nombre
                    text: "Solo se permiten Letras"
                    opacity: 0

#Cuarta fila
        MDFloatLayout:
            #font_name: "Poppins"
            orientation: "vertical"
            spacing: "5dp"
            adaptive_height: True
            size_hint_x: .3
            #padding: [15]
            pos_hint: {"center_x": .3, "center_y": .56}
            MDTextField:
                id: f_nacimiento
                pos_hint: {"center_x": .2, "center_y": .52}
                hint_text: "Fecha"
                helper_text: "dd/mm/yyyy"
                validator: "date"
                date_format: "dd/mm/yyyy" 
                helper_text_mode: "persistent"
                input_filter: lambda text, from_undo: text[:10]
                on_text_validate:
                    app.validate_date(self.text)

        OneLineListItem:
        MDScreen
            MDTextField:
                id: t_sexo
                pos_hint: {"center_x": .53, "center_y": .56}
                size_hint_x: .2
                width: "100dp"
                hint_text: "Sexo"
                position: "center"
                line_color_focus: "red"
                text_color_focus: "red"
                hint_text_color_focus: "red"
                on_focus: if self.focus: root.sexo.open()

        OneLineListItem:
        MDScreen
            MDTextField:
                id: t_sangre
                pos_hint: {"center_x": .80, "center_y": .56}
                size_hint_x: .2
                width: "100dp"
                hint_text: "Sangre"
                position: "center"
                line_color_focus: "red"
                text_color_focus: "red"
                hint_text_color_focus: "red"
                on_focus: if self.focus: root.sangre.open()

        #MDFloatLayout:
            #id: dropdown_2
            #MDRaisedButton:
                #id: t_sexo
                #icon: 'gender-male-female'
                #text: "Sexo"
                #md_bg_color: (238/255, 238/255, 1)
                #text_color: 240/255, 0/255, 0/255
                #padding: [30, 0]
                #size_hint: .25, .05
                #pos_hint: {"center_x": .50, "center_y": .56}
                #on_release: root.dropdown_2.open(self)
            #MDBoxLayout:
                #id: items_2
                #orientation: 'vertical'
                #size_hint_y: None
                #height: "40dp"

        #MDFloatLayout:
            #id: dropdown_1
            #MDRaisedButton:
                #id: t_sangre
                #icon: 'user'
                #text: "Tipo de Sangre"
                #md_bg_color: (238/255, 238/255, 1)
                #text_color: (240/255, 0/255, 0/255)
                #padding: [15, 0]
                #size_hint: .25, .05
                #pos_hint: {"center_x": .80, "center_y": .56}
                #on_release: root.dropdown_1.open(self)
            #MDBoxLayout:
                #id: items_1
                #orientation: 'vertical'
                #size_hint_y: None
                #height: "40dp"

#Quinta fila
        MDFloatLayout:
            size_hint: .60, .05
            pos_hint: {"center_x": .5, "center_y": .45}
            canvas:
                Color:
                    rgb: (238/255, 238/255, 1)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [25]
            TextInput:
                id: email
                #font_name: "Poppins"
                hint_text: "Ingrese su Correo"
                size_hint: 1, None
                pos_hint: {"center_x": .5, "center_y": .5}
                height: self.minimum_height
                multiline: False
                cursor_color: 0, 0, 0
                cursor_width: '2sp'
                foreground_color: 0, 0, 0
                background_color: 0, 0, 0, 0
                padding: [10]
                font_size: '13sp'

#Sexta fila
        MDFloatLayout:
            size_hint: .60, .05
            pos_hint: {"center_x": .5, "center_y": .38}
            canvas:
                Color:
                    rgb: (238/255, 238/255, 1)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [25]
            TextInput:
                id: password
                #font_name: "Poppins"
                hint_text: "Ingrese una Contraseña"
                size_hint: 1, None
                pos_hint: {"center_x": .5, "center_y": .5}
                height: self.minimum_height
                multiline: False
                cursor_color: 0, 0, 0
                cursor_width: '2sp'
                foreground_color: 0, 0, 0
                background_color: 0, 0, 0, 0
                padding: [10]
                font_size: '13sp'


#Boton de registto

        MDFillRoundFlatButton:
            text: "Registrarse"
            font_name: 'asset/Fuentes/Poppins-SemiBold.ttf'
            font_size: '20sp'
            size_hint: .5, .08
            pos_hint: {"center_x": .5, "center_y": .25}
            text_color: "white"
            md_bg_color: get_color_from_hex("#F41F05")
            elevation: None
            padding: [10]
            on_release: app.validacionRegistro()

        #B0utton:
            #text: "Registrarse"
            #font_name: 'asset/Fuentes/Poppins-SemiBold.ttf'
            #font_size: '20sp'
            #size_hint: .5, .08
            #pos_hint: {"center_x": .5, "center_y": .25}
            #background_color: 0, 0, 0, 0
            #canvas.before:
                #Color:
                    #rgb: 240/255, 0/255, 0/255
                #RoundedRectangle:
                    #size: self.size
                    #pos: self.pos
                    #radius: [23]
            #on_release: app.validacionRegistro()

#Testo para regresar al Login
        MDLabel:
            text: "Ya tengo una cuenta."
            #font_name: "Poppins"
            #font_size: '13sp'
            color: 0, 0, 0
            pos_hint: {"center_x": .609, "center_y": .13}
        MDTextButton:
            text: "Iniciar Sesion"
            font_name: 'asset/Fuentes/Poppins-SemiBold.ttf'
            color: 240/255, 0/255, 0/255
            #padding: 5
            pos_hint: {"center_x": .705, "center_y": .13}
            on_release:
                root.manager.transition.direction = "right"
                root.manager.current = "login"